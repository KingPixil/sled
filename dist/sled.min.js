/**
 * Sled v0.0.0
 * Copyright 2017 Kabir Shah
 * Released under the MIT License
 */
!function(e,t){"object"==typeof module&&module.exports?module.exports=t():e.Sled=t()}(this,function(){function e(e){this.el=document.querySelector(e),this.el.appendChild(n(t("p","",[t("br","",[])]))),this.el.setAttribute("contenteditable","true"),this.el.setAttribute("data-sled","");var o=this;this.el.addEventListener("keypress",function(e){o.editText(String.fromCharCode(e.keyCode))}),this.el.addEventListener("paste",function(e){o.editText(e.clipboardData.getData("Text"))}),this.el.addEventListener("keydown",function(e){o.editAction(e)})}var t=function(e,t,n){return{type:e,content:t,children:n}},n=function(e,t){var o=e.type,i=e.children,r=null;if("#text"===o)r=document.createTextNode("");else if(r=document.createElement(e.type),0!==i.length)for(var d=0;d<i.length;d++)r.appendChild(n(i[d]));return r},o=function(e,t){for(var i=0;i<t.length;i++){var r=t[i],d=n(r);e.appendChild(d),0!==r.children.length&&o(d,r.children)}},i=function(e){for(var t=null;null!==(t=e.firstChild);)e.removeChild(t)};return e.prototype.editText=function(e){},e.prototype.editAction=function(e){var t=this.el;if(13===e.keyCode){var n=document.getSelection(),o=n.focusNode,i=3===o.nodeType?o.parentNode:o,r=o.textContent,d=n.focusOffset,l=n.anchorOffset;if(d>l){var a=d;d=l,l=a}if(o===n.anchorNode){e.preventDefault();var u="",s=r.substring(l,r.length);0!==r.length&&(u=r.substring(0,d)),r!==u&&(o.textContent=u);var c=document.createElement(i.nodeName.toLowerCase());0===s.length?c.appendChild(document.createElement("br")):c.textContent=s,t.insertBefore(c,i.nextSibling)}}},e.prototype.load=function(e){i(this.el),o(this.el,e)},e.prototype.data=function(e){void 0===e&&(e=this.el);for(var n=[],o=e.firstChild;null!==o;){var i=null;i="#text"===o.nodeName?t("#text",o.textContent,[]):t(o.nodeName.toLowerCase(),"",this.data(o)),n.push(i),o=o.nextSibling}return n},e.version="0.0.0",e});